webpackJsonp([4],{100:function(t,e){},101:function(t,e){},102:function(t,e){},112:function(t,e,s){function o(t){s(102)}var n=s(19)(s(71),s(114),o,"data-v-84fc86d8",null);t.exports=n.exports},113:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"middle1 bgcolor"},[s("router-view",{staticClass:"middle1"})],1),t._v(" "),s("div",{staticClass:"tab border-1px"},[s("div",{staticClass:"tab-item"},[s("router-link",{staticClass:"link",attrs:{to:"/movie"}},[s("img",{staticClass:"l",attrs:{src:"static/pic/all.png",alt:""}})])],1),t._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{staticClass:"link",attrs:{to:"/rating"}},[s("img",{staticClass:"l",attrs:{src:"static/pic/message.png",alt:""}})])],1),t._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{staticClass:"link",attrs:{to:"/personal"}},[s("img",{staticClass:"l",attrs:{src:"static/pic/personal.png",alt:""}})])],1),t._v(" "),s("router-view",{directives:[{name:"show",rawName:"v-show",value:t.getroutershow,expression:"getroutershow"}],staticClass:"view",attrs:{name:"a"}})],1)])},staticRenderFns:[]}},114:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"swiper-img"},[s("img",{attrs:{src:t.gettitle,alt:""}})]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"swiper-container detail"},[s("div",{staticClass:"swiper-wrapper"},[s("transition",{attrs:{name:"fade1"}},[t.showLogin?s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"bor1"}),t._v(" "),s("div",{staticClass:"inp clearFix"},[s("img",{attrs:{src:"static/pic/person.png",alt:""}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],attrs:{type:"text",placeholder:"username"},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"inp clearFix"},[s("img",{attrs:{src:"static/pic/password.png",alt:""}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn-color1",attrs:{type:"button"},on:{click:t.login}},[t._v("Login")]),t._v(" "),s("button",{staticClass:"btn-color2",attrs:{type:"button"},on:{click:t.toggle2}},[t._v("register")])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade2"}},[t.showRegister?s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"bor2"}),t._v(" "),s("div",{staticClass:"inp"},[s("img",{attrs:{src:"static/pic/person.png",alt:""}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user1,expression:"user1"}],attrs:{type:"text",placeholder:"username"},domProps:{value:t.user1},on:{input:function(e){e.target.composing||(t.user1=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"inp"},[s("img",{attrs:{src:"static/pic/password.png",alt:""}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}})]),t._v(" "),s("button",{class:t.style,attrs:{type:"button"},on:{click:t.register}},[t._v("Register")])]):t._e()])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper-head"},[s("div",{staticClass:"top"},[t._v("\n            login\n         ")]),t._v(" "),s("div",{staticClass:"top"},[t._v("\n            register\n         ")])])}]}},140:function(t,e){},141:function(t,e){},44:function(t,e,s){"use strict";(function(t){var o=s(5),n=s(115),r=s(139),i=s(100),a=(s.n(i),s(112)),c=s.n(a);o.default.use(n.a),o.default.use(r.a);var u=new n.a({mode:"history",base:t,routes:[{path:"/",components:{a:c.a}},{path:"/login",components:{a:c.a}},{path:"/movie",meta:{requireAuth:!0},component:function(t){s.e(2).then(function(){var e=[s(144)];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/rating",meta:{requireAuth:!0},component:function(t){s.e(0).then(function(){var e=[s(146)];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/personal",meta:{requireAuth:!0},component:function(t){s.e(1).then(function(){var e=[s(145)];t.apply(null,e)}.bind(this)).catch(s.oe)}}],linkActiveClass:"active",scrollBehavior:function(t,e,s){return s||{x:0,y:200}}});u.beforeEach(function(t,e,s){t.matched.some(function(t){return t.meta.requireAuth})?localStorage.getItem("username")?s():s({path:"/login",query:{redirect:t.fullPath}}):s()}),e.a=u}).call(e,"/")},45:function(t,e,s){"use strict";var o=s(73),n=s.n(o),r=s(5),i=s(10),a=s(119),c=s.n(a),u=s(6);s.n(u);r.default.use(i.b);var l=new i.b.Store({state:{socket:"",user:{name:localStorage.getItem("username"),src:"static/pic/1.jpg",room:""},messhistory:{infos:[]},roomdetail:{id:"",users:{},infos:[]},onlinecount:0,collectsrc:"static/pic/collect1.png",collectsrc1:"static/pic/collect.png",detailsrc:"static/pic/detail.png",robotmsg:[{message:"Hi~有什么问题问我",name:"robot",src:"static/pic/robot1.png"}],collect:[],showDetail:!1,showchat:!1,showrobotchat:!1,collectShow:!1,bgImg:"static/pic/bg.png",headImage:!1,headerImg:"static/pic/camera.png",uploadimg:"static/pic/uploadimg.png",ratinfos:[],historyratingfos:[],showTab:!1,showcontent:!0,showrat:!1,loading:!0,chatbg:"static/pic/chatbg.jpg",headimg:"static/pic/headimg.jpg",routershow:!0,title:"static/pic/2.jpg",close:"static/pic/close.png"},getters:{getsocket:function(t){return t.socket},getusername:function(t){return t.user.name},getusersrc:function(t){return t.user.src},getmesshistoryinfos:function(t){return t.messhistory.infos},getrobotmsg:function(t){return t.robotmsg},getshowDetail:function(t){return t.showDetail},getshowchat:function(t){return t.showchat},getuserroom:function(t){return t.user.room},getinfos:function(t){return t.roomdetail.infos},getshowrobotchat:function(t){return t.showrobotchat},getcollectsrc:function(t){return t.collectsrc},getcollectsrc1:function(t){return t.collectsrc1},getdetailsrc:function(t){return t.detailsrc},getcollectShow:function(t){return t.collectShow},getheadImage:function(t){return t.headImage},getheaderImg:function(t){return t.headerImg},getcollect:function(t){return t.collect},getratinfos:function(t){return t.ratinfos},gethistoryratingfos:function(t){return t.historyratingfos},getonlinecount:function(t){return t.onlinecount},getuploadimg:function(t){return t.uploadimg},getbgImg:function(t){return t.bgImg},getshowTab:function(t){return t.showTab},getshowcontent:function(t){return t.showcontent},getshowrat:function(t){return t.showrat},getloading:function(t){return t.loading},getchatbg:function(t){return t.chatbg},getheadimg:function(t){return t.headimg},getroutershow:function(t){return t.routershow},gettitle:function(t){return t.title},getclose:function(t){return t.close}},mutations:{setsocket:function(t,e){return t.socket=e},setusername:function(t,e){return t.user.name=e},setusersrc:function(t,e){return t.user.src=e},setuserroom:function(t,e){return t.user.room=e},setmesshistoryinfos:function(t,e){return t.messhistory.infos=e},setrobotmsg:function(t,e){return t.robotmsg.push(e)},changeshowDetail:function(t){return t.showDetail=!t.showDetail},changeshowchat:function(t){return t.showchat=!t.showchat},addroomdetailinfos:function(t,e){return t.roomdetail.infos.push(e)},removeroomdetailinfos:function(t){return t.roomdetail.infos.splice(0,t.roomdetail.infos.length)},changeshowrobotchat:function(t,e){return t.showrobotchat=!t.showrobotchat},setcollectsrc:function(t,e){return t.collectsrc=e},setcollectShow:function(t){return t.collectShow=!t.collectShow},setheadImage:function(t){return t.headImage=!t.headImage},setheaderImg:function(t,e){return t.headerImg=e},setcollect:function(t,e){return t.collect=e},addcollect:function(t,e){return t.collect.push(e)},setratinfos:function(t,e){return t.ratinfos.push(e)},sethistoryinfos:function(t,e){return t.historyinfos=e},setonlinecount:function(t,e){return t.onlinecount=e},setshowTab:function(t){return t.showTab=!t.showTab},sethistoryratinginfos:function(t,e){return t.historyratinginfos=e},setshowcontent:function(t,e){return t.showcontent=e},setshowrat:function(t,e){return t.showrat=e},setloading:function(t,e){return t.loading=e},setroutershow:function(t){return t.routershow=!t.routershow}},actions:{tologin:function(t,e){var o=t.commit;c.a.post("restful/login",e).then(function(t){0==t.data.errno?(localStorage.username=e.user,sessionStorage.collect=n()(t.data.collect),o("changeshowDetail"),o("setusername",localStorage.getItem("username")),o("setcollect",JSON.parse(sessionStorage.collect)),o("setroutershow"),""!==t.data.src&&o("setusersrc",t.data.src),s.i(u.Toast)("登陆成功")):s.i(u.Toast)("登陆失败")})},getmesshistory:function(t,e){var s=t.commit;c.a.get("restful/message",{params:e}).then(function(t){s("setmesshistoryinfos",t.data.data)}).catch(function(t){console.log(t)})},getrobotmess:function(t,e){var s=t.commit,o="";c.a.get("restful/robotapi",{params:e}).then(function(t){o=JSON.parse(t.data.data),1e5===o.code?s("setrobotmsg",{message:o.text,name:"robot",src:"static/pic/robot1.png"}):2e5===o.code?s("setrobotmsg",{message:o.text+o.url,name:"robot",src:"static/pic/robot1.png"}):(o.code,s("setrobotmsg",{message:"暂时未开通",user:"robot",src:"static/pic/robot1.png"}))})},tologout:function(t,e){var s=t.commit;c.a.post("restful/logout",e).then(function(t){localStorage.username="",s("setusername",""),s("removeroomdetailinfos"),s("setroutershow")})},torat:function(t,e){var s=t.commit;c.a.post("restful/rating",e).then(function(t){1==t.data.errno&&s("setratinfos",e)})},togethistoryratinfos:function(t,e){var s=t.commit;c.a.get("restful/rating",{params:e}).then(function(t){s("sethistoryratinginfos",t.data.data)})}}});e.a=l},46:function(t,e){},47:function(t,e,s){function o(t){s(101)}var n=s(19)(s(70),s(113),o,null,null);t.exports=n.exports},70:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(20),n=s.n(o),r=s(10);e.default={name:"app",data:function(){return{}},methods:{changeshow:function(){this.$store.commit("setshowTab")}},computed:n()({},s.i(r.a)(["getusersrc","getshowTab","getloading","getroutershow"])),components:{}}},71:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(20),n=s.n(o),r=s(61),i=s.n(r),a=s(10),c=s(6);s.n(c);e.default={data:function(){return{showLogin:!0,showRegister:!1,user:"",password:"",user1:"",password1:"",password2:"",startX:"",startT:"",isMove:!1,direction:"left",style:""}},created:function(){this.$store.commit("setsocket",i.a.connect("http://www.yostar.top/restful"))},mounted:function(){},methods:{toggle2:function(){this.showLogin=!1,this.showRegister=!0,this.style="btn-color1"},login:function(){var t=this,e={user:this.user,password:this.password};this.$store.dispatch("tologin",e).then(function(){setTimeout(function(){t.$router.push({path:"/movie"}),t.getsocket.emit("login",e)},200)})},register:function(){var t=this;this.$http.post("restful/register",{user:this.user1,password:this.password1,src:""}).then(function(e){if(0!=e.body.errno)return s.i(c.Toast)({message:"注册失败",iconClass:"icon icon-success"}),!1;t.showLogin=!0,t.showRegister=!1,s.i(c.Toast)("注册成功")})},changeShow:function(){this.$store.commit("setshowTab")}},computed:n()({},s.i(a.a)(["getusername","getshowDetail","getusersrc","getbgImg","getsocket","gettitle"]))}},72:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(5),n=s(47),r=s.n(n),i=s(44),a=s(6),c=s.n(a),u=s(46),l=(s.n(u),s(45)),g=s(48);s.n(g).a.attach(document.body),o.default.use(c.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:i.a,store:l.a,template:"<App/>",components:{App:r.a}})}},[72]);
//# sourceMappingURL=app.e3f1809cf3fc4b55f5e3.js.map